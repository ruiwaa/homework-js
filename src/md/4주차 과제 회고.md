# 4주과 과제 회고 (탭 메뉴 컴포넌트 만들기 과제)

---

## 1단계 구조 설계


### 접근성 고려하여 시멘틱한 마크업 구조 잡기

#### 1단계 큰 틀 구상

탭 메뉴와 해당 탭 내용이 있는 구조로 먼저 접근을 하여, 대략적인 마크업 구조를 구상했다.

```
  <!-- 1단계: 큰 div (전체 감싸기) -->
<div class="container">

  <!-- 2단계: nav 영역 감싸는 section -->
  <section class="nav-wrapper">
    <nav class="tab-nav">
      <button>계좌 조회</button>
      <button>투자 현황</button>
      <button>거래 내역</button>
      <button>카드 관리</button>
    </nav>
  </section>

  <!-- 2단계: content 영역 감싸는 section -->
  <section class="content-wrapper">

    <!-- 3단계: 각 콘텐츠를 감싸는 article -->
    <article class="tab-content" role="tabpanel">콘텐츠1</article>
    <article class="tab-content" role="tabpanel">콘텐츠2</article>
    <article class="tab-content" role="tabpanel">콘텐츠3</article>

  </section>
```
---

#### 2단계 접근성 고려하기 (WAVE Web Accessibility Evaluation Tool 확장 프로그램 활용 )

1.  nav부분과 콘텐츠 영역이 연결될 수 있게 id와 aria-controls 속성 추가
2.  아이콘 svg가 있는 버튼 요소이므로, aria-label를 통해 해당 버튼의 기능 라벨 제공
3.  거래 내역 파트에 각 입출금/ 내역을 스크린리더기가 읽을 수 있도록 aria-label 작성
    -> 이렇게 하려고 계획했으나, span 요소에는 아리아 라벨을 붙일 수 없어서 sr-only를 추가한 후 스타일링 적용.
4. aria-hidden 으로 해당 아티클을 클릭했을 때 해당 아티클의 내용만 읽도록 설정 (자바스크립트에서 제어)
5. aria-selected를 활용하여 해당 버튼 탭키를 눌렀을 때 다른 버튼은 읽지 못하도록 설정(자바스크립트에서 제어)

=> 이번 과제부터 접근성에 대해 시간을 들여서 고민해보았던 것 같습니다. 개발자 도구로 검토할 부분이 굉장히 많고, 또한 
확장 프로그램을 이용하여 접근성 관련 이슈는 없는지, 마크업의 큰 문법 오류는 없는지 등 보이지 않는 곳도 세심히 신경써야 한다는 것을 다시 한번 느꼈습니다!

---
### 3단계 css 스타일링

이번주 주말에 부득이하게 다른 일이 있어 이번 과제에 css에 대해 많은 시간을 쏟을 수 없었습니다. 
자바스크립트 수업이므로, 마크업이 완성되고 어느정도 페이지의 규격을 스타일링만 하고나서 바로 자바스크립트 부분을 만들었습니다..
스타일링이 안되어있어서 너무 볼품이 없지만... is-acitve 상태일 때 display:block 과 opacity:1을 주었습니다. 
스타일링에 대한 고민을 이번 과제에서 많이 하지못해 아쉬움이 많았습니다 ㅠㅠ 담주는 꼭 마크업, css, 자바스크립트 삼박자를 다 맞출 수 있기를!


----
### 4단계 자바스크립트로 동적인 Dom 구성
동적인 돔이라는 표현이 맞는지는 모르겠지만?? 사용자가 브라우저와 상호작용할 수 있는 기능을 자바스크립트로 구현을 해야 해서 
어떻게 구현을 만들어 나갈지에 대한 단계를 머릿속으로 먼저 생각해보았습니다. 
1. 버튼을 누른다.
2. 해당 버튼에 맞는 컨텐츠가 나온다.
3. 다른 버튼을 누르면 이전의 내용이 사라진다. 

이번주에 아코디언 UI를 만들어보는 시간을 가졌는데, 아코디언은 해당 컨텐츠를 누르면 숨겨진 내용이 나오는 형태인 점이 
탭컴포넌트 과제와 유사하지만 다른 점은 탭버튼은 닫기 버튼이 없고, 다른 버튼을 누르면 이전의 내용이 없어지는 부분이 달랐습니다. 
추가되고 없어지고 하는 부분이 버튼을 클릭하면 따라오는 결과로 나와야 했습니다. 
#### 브레인스토밍 단계
```
버튼 배열을 반복 (i) { 
버튼 클릭 이벤트 { 콘텐츠 배열을 반복 (j) { if (i === j) { → 클래스 추가 → aria-selected="true" → aria-hidden="false" 
} 
else { → 클래스 제거 → aria-selected="false" → aria-hidden="true" }
 } 
} 
}
```
대략 버튼 반복문 안에 또! 콘텐츠 배열 반복문을 만들면 되겠구나 라는 생각을 가지고 시작했습니다. 
반복문 안에 반복문이라는 복잡해보이는 구조여서 잘만들 수 있을까했지만, for문 덕분에 while문이랑 다르게 무한 루프에 빠지는?
위험이 덜해서 이렇게 저렇게 반복문 안에 순서를 뒤바꾸고 콘솔창에서 확인해보고를 반복했습니다. 
forEach를 사용을 먼저 해보았는데 편리하게 한 줄로 작성할 수 있는 점이 좋지만, 반복문 안의 반복문 구조는 처음이여서 
저에게는 함축적이다 라는 느낌이 많이 들었습니다. 그래서 이번 과제는 버튼과 컨텐츠 반복문 모두 'for문'을 사용해주었습니다. 
디테일하게 쓸 수 있어서 제 눈과 머리로 이해하면 코드를 짤 수 있는 점이 좋았습니다. 

````

 버튼 클릭 시 연결되어야 할 것
 * 1. 활성화/비활성화 aria-hidden 속성으로 아티클 추가/제거 제어해야함✅
 * 2. 버튼에 해당되는 컨텐츠가 나오도록 클래스 추가✅
 * 3. 해당 컨텐츠를 선택하면, 나머지 컨텐츠에 활성화 클래스 네임 제거✅
 * 4. 해당 버튼 탭을 누르면 다른 버튼 탭을 읽지 않도록 aria-selected 추가/제거

for(let i =0, l= buttonList.length; i < l; i++){
  const buttonItem = buttonList[i]
  buttonItem.addEventListener('click',()=>{
    for(let contentindex = 0, articleLength = tabContentList.length; contentindex < articleLength; contentindex++){
      const articleItem = tabContentList[contentindex]
     if(i === contentindex) {
        articleItem.classList.add('is-active')
        articleItem.setAttribute('aria-hidden', 'false')
        buttonItem.setAttribute('aria-selected', 'true')  
      } else {
        articleItem.classList.remove('is-active')
        articleItem.setAttribute('aria-hidden', 'true')
        buttonList[contentindex].setAttribute('aria-selected', 'false')
      }
    }
  }
)
}

//테스트 코드
console.log(buttonList)
console.log(tabContentList)

````
#### 아쉬운 점 & 인상 깊은 점
버튼 반복문은 변수가 이쁘게 잘 나온 것 같은데 콘텐츠 반복문 변수가 너무 지저분해서 변수명을 깔끔하고 이쁘게 짓지 못한 점이 아쉬웠습니다. 
접근성을 고려하여, aria-selected 라는 새로운 속성을 알게 되었습니다. 또한 aria-hidden 을 aria-selected와 함께 자바스크립트에서 
제어할 수 있게 해주는 메서드를 이번 과제를 통해 배우게 되었습니다 setattribute()를 이용하여 접근성에 관한 측면의 자바스크립트 기능도 구현해 볼 수 있었습니다. 
css스타일링에 시간을 할애하지 못해서 그 부분이 많이 아쉽지만, 그 대신 접근성에 대해 고민해볼 수 있는 시간들을 가질 수 있는 과제가 되어서 그 부분에서는 의미가 있었다고 
생각이 듭니다. 또한 자바스크립트 과제이니...! 구현해내야하는 기능을 만들어낼 수 있어서 뿌듯했습니다! 그런데 숫자에 쉼표를 추가해주는 기능까지 못 만든 부분이 자바스크립트 부분에서
아쉬움이 남습니다 ㅠㅠㅠ 
앞으로 더 밀도있고, 세심한 개발 능력을 차근차근 쌓아서 세심한 웹사이트를 만들어내는 개발자가 되고 싶습니다!

