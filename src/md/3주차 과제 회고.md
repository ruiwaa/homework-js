# 3주차 과제 회고

## 1. 마크업을 신중하게!!!!
3일동안 과제를 계속 붙잡고 했는데, 시간을 많이 투자한 만큼 결과가 나와주지 않은 것 같아서 속상했다. 
내가 원하는대로 구현이 될 때 뿌듯함도 느껴졌지만, 시간대비 내 머리와 손이 많이 느리다는 것이 느껴졌다.
다음달에 진행되는 바닐라 프로젝트도 있는데, 제시간에 완수를 못할 것 같다는 걱정도 앞서 들었다. 
과제의 이름이 간단한 컴포넌트인데, 나에게는 간단하게 다가오지 않았다. ㅠㅠ

먼저, 이번주 ui 구현할 때 구성 폴더를 참고하여 html,컴포넌트 css, js 파일을 나눈 후 마크업을 진행했다.

어떻게 페이지를 넘길때마다 해당 페이지의 디자인이 바뀌는 것을 구현할까하고 고민하였을 때, 
각 페이지를 섹션 태그로 나눠서 마크업을 하자는 생각을 했다. (이게 이후에 자바스크립트 짤 때 애를 먹였다.) 일단 한 페이지의 마크업을 짜면, 이후의 페이지들은 이미지만 대체하면 된다는 생각으로 html 문서를 구성했다. svg를 다운받아서 사용하였는데,코드가 너무 길어서 다음에는 단순히 이미지 파일을 사용해야 할지 어떻게 하면 svg 코드를 간략하게 할 수 있을지에 대한 생각이 들었다. 

아쉬웠던 점: 
1) 시멘틱한 구조 구상:시멘틱하게 짜고 싶은데 css 스타일링을 하면서 마크업 수정이 필요한 부분들이 생겨서 div로 감싸고 감싸는 작업이 잦았다. 
시맨틱하게 짜는 것에 대한 어려움이 있지만, 브라우저를 구동시킬 때마다 'web developer' 확장 프로그램을 사용하여, 마크법 문법상의 큰 오류는 없는지를 확인하면서 마크업을 작성하는 노력을 하였다.
2) 접근성 고려: 아직 나의 실력이 너무나도 부족하기때문이겠지만, 시멘틱한 마크업도 고려하는 것도 힘이 들어서 접근성까지 고려하는 부분을 간과하게 되는 것 같다. 이번 과제에서 접근성을 생각한 부분은 페이지 번호를 span요소로 감싼 후 aria-label를 사용하여 현재 페이지,1번 이런식으로 이름을 부여했다.
3) 배경 이미지와 캐릭터 이미지의 분리: 만들어야 했던 기능 중의 하나라 마우스를 올렸을 때 캐릭터의 이미지가 확대되는 효과를 구현해내야 하는데, css에서 배경이미지를 삽입을 하고 html에는 캐릭터 이미지를 연결하였는데, 자꾸만 두 개의 이미지 크기 조절이 함께 이뤄져서, 문제의 원인이 무엇인지 도무지 알 수가 없엇 그 부분이 굉장히 답답했다. ㅠㅠ 그래서 그 부분의 기능을 구현해내지 못한 것이 굉장히 아쉬웠다. 


## 2. css 스타일 파일을 나눠서 관리
이번 수업을 들으면서 신기했던 점이 컴포넌트 단위별로 css 파일을 나눈 것이다. 과제를 진행할 때 나도 이 부분을 참고하여 컴포넌트별로 (링크,버튼, 이미지 등) 나눠서 디자인 작업을 하였더니, 훨씬 더 구조적으로 작성하는 느낌이 들어서 좋았다. 브라우저에서 보았을 때 문제가 있는 부분의 컴포넌트 파일에 가서 스타일 코드를 확인하고 수정하는 방식이 이전의 하나의 스타일 파일에 몰아넣어서 관리하는 것보다 훨씬 편했다. 저번달까지 css 수업을 들었었는데 다시 새로운 지식을 배우니 이전에 배웠던 것들의 용도를 거의 까먹은 것 같다. 이번 부트캠프를 통해 개발이라는 것을 처음하다보니 새로운 것을 배우면서 이전꺼를 복습할 시간이 너무 부족해서 복습할 시간이 필요했는데, 이번 과제를 통해 조금이나마 이전의 배웠던 부분들을 활용하며 복습의 시간을 가질 수 있어서 좋았다. 이번 수업시간에 조상 선택자라는 것에 대해 새롭게 알게 되었는데 h3 태그에서 챕터 3이라는 클래스 네임을 가진 h3 요소만 다르게 스타일링하기 위해서 사용을 해보기도 하였다! 앞으로도 선택자를 다양하게 공부하고 훗날 직관적이고 또 깔끔하게 코드를 짤 수 있는 내 자신이 될 수 있었으면 좋겠다! 


## 3. 자바스크립트 로직은 차근차근!!
얼추 구조와 디자인 설계를 마치고 나서 이제 자바스크립트로 구현해야 할 것들이 크게 두 가지가 있었다. 
1) 페이지 번호를 넘길 때마다 다음 페이지 디자인 생성
2) 캐릭터 이미지에 마우스를 올리면 확대가 되는 기능
내가 이번 과제를 분석하였을 때 이 두 개의 부분이 자바스크립트에 구현이 되어야 한다는 생각이 들었다. 하지만 이미지 부분은 html에서 해결이 안되었기에,,,, 제발 1번의 기능을 제대로 구현해보자! 라는 생각으로 과제를 수행했다. 

```
 * 필요한 함수들:
1.페이지 번호 관리 함수 - 현재 페이지를 계산하고 반환
2.디자인 업데이트 함수 - 페이지 번호를 받아서 body 클래스 제어
3.탭 접근성 함수 - 페이지 번호를 받아서 각 페이지의 tabindex 제어
4.초기화 함수 - 페이지 로드 시 처음 상태 설정
5.이벤트 리스너 - prev, next 버튼 클릭 시 위 함수들 실행
 
```
페이지 번호와 해당 페이지 디자인이 바뀌는 함수를 짜는 데만 해도 고려해야 할 함수들이 많았다. 

> #### 진행 순서
> 1. 자주 사용할 변수들 선언 
> 2. 필요한 함수 만들기

1. 변수 선언
필요한 변수들이 상당히 많았다. 변수명을 직관적이게 만들고 싶은데 내가 만드는 방식이 옳은지는 잘 모르겠지만 최대한 변수명만 봤을 때 이게 무엇이구나의 느낌이 들도록 만들려고 노력했다. 

2. 필요한 함수 만들기 

    2-1 페이지 관리하는 함수
    증가/감소 그리고 산술 연산자를 이용하여 페이지 번호를 반환하는 함수를 만들었다.
```
// 버튼을 눌렀을 때 페이지 번호와 해당 게임 페이지가 바뀌는 함수 구현
// 현재 페이지 변수 설정
let currentPage = 1
//  1단계:현재 페이지 번호 반환 함수
// 기능: 현재 페이지 번호를 버튼을 누름에 따라서 달라지게 하기

function prevPage(currentNumber) {
 currentNumber = (currentPage - 1) % 4
 if(currentNumber === 0){
  return 3
 }
 //음수 값이 나올 경우, 절댓값으로 변환
 return Math.abs(currentNumber) 
}
function nextPage(currentNumber) {
  currentNumber = (currentPage + 1) % 4
  if(currentNumber === 0){
  return 1}

  return currentNumber

}
```

2-2 게임 페이지 & 페이지 번호 업데이트 함수
페이지 번호가 바뀔 때마다 클래스 네임이 추가/제거 되는 메서드를 활용하여
해당 페이지 디자인이 바뀌는 함수를 만들고 또 탭키를 제어하는 조건문을 만들었다. 
탭키의 문제가 있어 이 부분을 해결하고 싶어 ai에게 물어보니 setAttribute라는 새로운 기능을 알려주어서 이 방법을 이용하여 문제를 해결하였다.

```
// 페이지 번호 span 업데이트
function updatePageNumber(currentNumber){
  page_1_element.classList.toggle('active', currentNumber === 1)
  page_2_element.classList.toggle('active', currentNumber === 2)
  page_3_element.classList.toggle('active', currentNumber === 3)


}

// 게임 페이지 디자인 업데이트 
function updatePage(currentNumber){

  body.classList.toggle(is_chapter_1_class_name, currentNumber === 1)
  body.classList.toggle(is_chapter_2_class_name, currentNumber === 2)
  body.classList.toggle(is_chapter_3_class_name, currentNumber === 3)

  // 탭 제어 조건문 작성 (조건문 사용)
 if (currentNumber === 1) {
    // 1페이지일 때: 1, 2번만 탭 가능하게
    gameLink1.setAttribute('tabindex', '0')
    gameLink2.setAttribute('tabindex', '0')
    // 나머지는 탭 차단
    gameLink3.setAttribute('tabindex', '-1')
    gameLink4.setAttribute('tabindex', '-1')
    gameLink5.setAttribute('tabindex', '-1')
    gameLink6.setAttribute('tabindex', '-1')
 }
 else if (currentNumber === 2){
  gameLink3.setAttribute('tabindex', '0')
  gameLink4.setAttribute('tabindex', '0')

    gameLink1.setAttribute('tabindex', '-1')
    gameLink2.setAttribute('tabindex', '-1')
    gameLink5.setAttribute('tabindex', '-1')
    gameLink6.setAttribute('tabindex', '-1')
 }

 else{
   gameLink5.setAttribute('tabindex', '0')
   gameLink6.setAttribute('tabindex', '0')

    gameLink1.setAttribute('tabindex', '-1')
    gameLink2.setAttribute('tabindex', '-1')
    gameLink3.setAttribute('tabindex', '-1')
    gameLink4.setAttribute('tabindex', '-1')
 }

}

```

3. 이벤트 리스너 만들어서 1, 2번 함수 합치기 + 초기 화면 상태 설정
각각의 함수를 만들고 나서 이제 논리의 순서에 맞게?? 다시 구성을 하는 부분이 아직까지 어렵다. 여기서 함수를 작성하고 브라우저를 확인하면서 이전에 짰던 함수들의 오류 문제를 마지막 이벤트 리스너를 만들면서 찾아낼 수 있었다. 

```
// 앞으로 가기/ 뒤로 가기 버튼을 누를 때마다 위의 함수들이 실행되는 함수 만들기

function handlePreButton(){
  currentPage = prevPage(currentPage)
  updatePage(currentPage)
  updatePageNumber(currentPage)

}
function handleNextButton(){
  currentPage = nextPage(currentPage)
  updatePage(currentPage)
  updatePageNumber(currentPage)
}
buttonFrontEl.addEventListener('click',handlePreButton)
buttonBackEl.addEventListener('click', handleNextButton)

//초기 화면 상태 설정!!
updatePage(1)
updatePageNumber(1)
```

### 최종 소감
마크업과 스타일링하는 시간이 자바스크립트를 짜는 시간보다 더 많이 들었다.... ㅠㅠㅠ
그리고 이번 과제를 수행하면서 자바스크립트가 너무 고마웠다. 내가 자주 쓰는 변수들을 지정하여, 직관적인 변수 이름을 활용하여, 
여러 개의 함수를 만들어 낼 수 있게 도와주고, html 마크업을 시맨틱하게 하지 못해서 탭키가 해당 페이지에 없는 부분에 접근을 해서 해당 페이지에 탭키를 몇 번을 해도 나타나지 않는 문제가 있었는데, 이 부분을 자바스크립트로 제어할 수 있어서 다행이다 라는 생각이 들었다. 뭔가 내가 저지른 잘못들을 자바스크립트가 해결해주는 듯한 기분이 들어서 든든했다. 컴포넌트 과제를 요구사항대로 다 만들지도 못하고, 디자인 시안에 맞춰서 구현해내지 못해서 너무 답답하고 속상한 마음이 들었다. 시간을 많이 들여도 진전이 더뎌서 답답하지만 점점 여러 과제를 마주하다보면 지금보단 나아지리라고 생각을 하고 싶다. 그리고 얼른 더 많은 기능들을 배워서 점점 다양한 컴포넌트를 마주할 때마다 '아, 이건 마크업을 이렇게 짜고 스타일은 이런 속성을 쓰고 마지막으로 자바스크립트로 이렇게 기능 구현하고 제어하면 되겠네' 라는 큰 그림을 그릴 수 있었으면 좋겠다. 